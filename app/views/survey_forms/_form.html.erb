
<%= form_for(@survey_form) do |f| %>
  <% if @survey_form.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@survey_form.errors.count, "error") %> prohibited this survey_form from being saved:</h2>

      <ul>
      <% @survey_form.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <style>
    .jumbotron {
        border: 1px solid black;
        background-color: white;
    }
    body {
      background-color: #ccffff;
    }
  </style>

<div class="container">
<br /><br />
<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <ul class="nav nav-tabs">
      <li class="active"><a href="#tab1" data-toggle="tab">Form</a></li>
      <li><a href="#tab2" data-toggle="tab">Dokumentasi</a></li>
    </ul>
      <div class="tab-content">
          <div class="tab-pane active" id="tab1">
          <center><h1 class="display-4">Form Survey</h1></center>
          <hr >
          <div class="form-group">
            <%= f.label :side_id, "Site ID" %><br>
            <%= f.text_field :side_id, class: "form-control", placeholder: "" %>
          </div>
          <div class="form-group">
            <%= f.label :nama_site_id, "Nama Site" %><br>
            <%= f.text_field :nama_site_id, class: "form-control", placeholder: "" %>
          </div>

          <div class="form-group">
            <%= f.label :provinsi %><br>
            <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[provinsi]" id="survey_form_provinsi">
              <option disabled selected>Select One</option>
              <option>Nusa Tenggara Timur</option>
              <option>Nusa Tenggara Barat</option>
              <option>Kalimantan Selatan</option>
              <option>Kalimantan Timur</option>
              <option>Kalimantan Barat</option>
              <option>Sulawesi Tenggara</option>
              <option>Sulawesi Tengah</option>
              <option>Kalimantan Utara</option>
              <option>Gorontalo</option>
            </select>
          </div>

          <div class="form-group">
            <%= f.label :kabupaten %><br>
            <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[kabupaten]" id="survey_form_kabupaten">
              <option disabled selected>Select One</option>
              <option>Malinau</option>
              <option>Sumba Timur</option>
              <option>Alor</option>
              <option>Banggai Kepulauan</option>
              <option>Gorontalo Utara</option>
              <option>Manggarai Barat</option>
              <option>Pohuwato</option>
              <option>Sumbawa</option>
              <option>Sumbawa Barat</option>
              <option>Sumba Tengah</option>
              <option>Timor Tengah Utara</option>
              <option>Belu</option>
              <option>Sambas</option>
              <option>Bengkayang</option>
              <option>Morowali Utara</option>
              <option>Sabu Raijua</option>
              <option>Konawe Kepulauaan</option>
              <option>Nagekeo</option>
              <option>Sigi</option>
              <option>Ende</option>
              <option>Tojo Una-una</option>
              <option>Lembata</option>
              <option>Banggai Laut</option>
              <option>Malaka</option>
              <option>Donggala</option>
              <option>Tolitoli</option>
              <option>Rote Ndao</option>
              <option>Konawe</option>
              <option>Ketapang</option>
              <option>Sanggau</option>
              <option>Kayong Utara</option>
              <option>Melawi</option>
              <option>Kapuas Hulu</option>
              <option>Landak</option>
              <option>Mahakam Ulu</option>
              <option>Hulu Sungai Utara</option>
              <option>Bima</option>
            </select>
          </div>
          
          <div class="form-group">
            <%= f.label :kecamatan %><br>
            <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[kecamatan]" id="survey_form_kecamatan">
              <option disabled selected>Select One</option>
              <option>Mentarang</option>
              <option>Malinau Selatan Hilir</option>
              <option>Malinau Selatan</option>
              <option>Haharu</option>
              <option>Lewa Tidas</option>
              <option>Kahaungu Eti</option>
              <option>Pandawai</option>
              <option>Ngadu Ngala</option>
              <option>PinuPahar</option>
              <option>Rindi</option>
              <option>Alor Barat Daya</option>
              <option>Alor Barat Laut</option>
              <option>Kabola</option>
              <option>Tinangkung</option>
              <option>Peling Tengah</option>
              <option>Kwandang</option>
              <option>Ponelo Kepulauan</option>
              <option>Komodo</option>
              <option>Welak</option>
              <option>Kuwus</option>
              <option>Lembor Selatan</option>
              <option>Ndoso</option>
              <option>Boleng</option>
              <option>Mbeliling</option>
              <option>Buntulia</option>
              <option>Dengilo</option>
              <option>Duhiadaa</option>
              <option>Patilanggio</option>
              <option>Popayato Barat</option>
              <option>Popayato</option>
              <option>Randangan</option>
              <option>Buer</option>
              <option>Moyo Utara</option>
              <option>Lenangguar </option>
              <option>Alas</option>
              <option>Taliwang</option>
              <option>Brang Ene</option>
              <option>Jereweh</option>
              <option>Sekongkang</option>
              <option>Seteluk</option>
              <option>Pota Tano</option>
              <option>Taliwang</option>
              <option>Sungai Boh</option>
              <option>Kayan Selatan</option>
              <option>Sungai Tubu</option>
              <option>Timor Tengah Utara</option>
              <option>Biboki Tanpah</option>
              <option>Biboki Feotleu</option>
              <option>Biboki Utara</option>
              <option>Biboki Selatan</option>
            </select>
          </div>
          
          <div class="form-group">
            <%= f.label :kelurahan %><br>
            <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[kelurahan]" id="survey_form_kelurahan">
              <option disabled selected>Select One</option>
              <option>Desa Paking</option>
              <option>Desa Mentarang Baru</option>
              <option>Desa Buntulia Tengah</option>
              <option>Desa Buntulia Utara</option>
              <option>Desa Hulawa</option>
              <option>Jl. Setulang</option>
            </select>
          </div>

          <div class="form-group">
            <%= f.label :alamat %><br>
            <%= f.text_field :alamat, class: "form-control", placeholder: "Alamat" %>
          </div>

          <div class="form-group">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-xs-6">
                <%= f.label :surveyor %><br>
                <%= f.text_field :surveyor, class: "form-control" %>
              </div>
              <div class="col-lg-6 col-md-6 col-xs-6">
                <div class="form-group">
                  <%= f.label :project %><br>
                  <%= f.text_field :project, class: "form-control" %>
                </div>
              </div>
            </div>
          </div>

          <hr >
          <center><h2>Koordinat</h2></center>
          <hr>

          <div class="form-group">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-xs-6">
                <%= f.label :lattide %><br>
                <%= f.text_field :lattide, class: "form-control", placeholder: "-6.238270" %>
              </div>
              <div class="col-lg-6 col-md-6 col-xs-6">
                <div class="form-group">
                  <%= f.label :longitude %><br>
                  <%= f.text_field :longitude, class: "form-control", placeholder: "106.975573" %>
                </div>
              </div>
            </div>
          </div>

          <hr >
          <center><h2>Ketersediaan Listrik</h2></center>
          <hr>
          
          <div class="form-group">
            <%= f.label :sumber_listrik %><br />
            <label class="radio-inline">
              <input type="radio" name="optradio" value="ada" class="detail">Jika Ada
            </label>
            <label class="radio-inline">
              <input type="radio" name="optradio" value="tidak" class="detail">Jika Tidak 
            </label>
            <br /><br />
            <div id="form-input">
              <%= label_tag 'sumber_listrik_PLN', 'PLN' %>
              <%= check_box_tag 'survey_form[sumber_listrik][]', 'PLN', checked('PLN'), id: 'sumber_listrik_PLN' %> &nbsp;&nbsp;

              <%= label_tag 'sumber_listrik_SolarSel', 'SolarSel' %>
              <%= check_box_tag 'survey_form[sumber_listrik][]', 'SolarSel', checked('SolarSel'), id: 'sumber_listrik_SolarSel' %>&nbsp;&nbsp;

              <%= label_tag 'sumber_listrik_Genset', 'Genset' %>
              <%= check_box_tag 'survey_form[sumber_listrik][]', 'Genset', checked('Genset'), id: 'sumber_listrik_Genset' %>
              <div class="form-group">
                <%= f.label :lainnya_listrik, "Sumber Listrik Lainnya" %><br />
                <%= f.text_field :lainnya_listrik, class: "form-control", placeholder: "ex: Batu Bara" %>
              </div> 
             
              <div class="form-group">
                <%= f.label :jam_operasional %><br>
                <%= f.text_field :jam_operasional, class: "form-control", placeholder: "24 JAM" %>

              <div class="form-group">
                <%= f.label :id_pelanggan_listrik %><br>
                <%= f.text_field :id_pelanggan_listrik, class: "form-control", placeholder: "ex: 232111074358" %>
              </div>
              <div class="form-group">
                <%= f.label :kapasitas, "Kapasitas (Watt)" %><br>
                <%= f.text_field :kapasitas, class: "form-control", placeholder: "ex: 900" %>
              </div>
            </div>
          </div>
          
          <hr >
          <center><h2>Ketersediaan Akses Internet Eksisting</h2></center>
          <hr>

          <div class="form-group">
            <%= f.label :jenis_koneksi %><br>
            <label class="radio-inline">
              <input type="radio" name="internet" value="ada" class="detailinternet">Jika Ada
            </label>
            <label class="radio-inline">
              <input type="radio" name="internet" value="tidak" class="detailinternet">Jika Tidak
            </label>
            <br /><br />

            <div id="form-internet">
              <label class="radio-inline">
                <b><input type="radio" name="survey_form[jenis_koneksi]" id="survey_form_jenis_koneksi" value="vsat">VSAT</b>
              </label><br />
              <label class="radio-inline">
                <b><input type="radio" name="survey_form[jenis_koneksi]" id="survey_form_jenis_koneksi" value="radiolink">RadioLink</b>
              </label><br />
              <label class="radio-inline">
                <b><input type="radio" name="survey_form[jenis_koneksi]" id="survey_form_jenis_koneksi" value="fiberoptik">FiberOptik</b>
              </label>
              <br /><br />

              <div class="form-group">
                <%= f.label :lainnya_internet, "Koneksi Internet Lainnya" %><br>
                <%= f.text_field :lainnya_internet, class: "form-control" %>
              </div>
              <div class="form-group">
                <%= f.label :kualitas_akses_internet %><br>
                <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[kualitas_akses_internet]" id="survey_form_kualitas_akses_internet">
                  <option disabled selected>Select One</option>
                  <option>Sangat Lambat</option>
                  <option>Lambat</option>
                  <option>Cepat</option>
                  <option>Sangat Cepat</option>
                </select>
              </div>
              <div class="form-group">
                <%= f.label :bandwidt_tersedia, "Bandwidt Tersedia (MBPS)" %><br>
                <%= f.text_field :bandwidt_tersedia, class: "form-control", type: 'number', placeholder: "10" %>
              </div>

            </div>
          </div>
          

           <hr >
          <center><h2>Ketersediaan Akses Jaringan Selular (GSM)</h2></center>
          <hr>

          <div class="form-group">
            <%= f.label :jenis_koneksi_1, "Jenis Koneksi" %><br>
            <label class="radio-inline">
              <input type="radio" name="jaringan" value="ada" class="detailjaringan">Jika Ada
            </label>
            <label class="radio-inline">
              <input type="radio" name="jaringan" value="tidak" class="detailjaringan">Jika Tidak
            </label>
            <br /><br />

            <div id="form-jaringan">
              <label class="radio-inline">
                <b><input type="radio" name="survey_form[jenis_koneksi_1]" id="survey_form_jenis_koneksi_1" value="4g">4G</b>
              </label>
              <label class="radio-inline">
                <b><input type="radio" name="survey_form[jenis_koneksi_1]" id="survey_form_jenis_koneksi_1" value="3g">3G</b>
              </label>
              <label class="radio-inline">
                <b><input type="radio" name="survey_form[jenis_koneksi_1]" id="survey_form_jenis_koneksi_1" value="2g">2G</b>
              </label>
              <br /><br />

              <div class="form-group">
                <%= f.label :nama_operator_seluler %><br>
                <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[nama_operator_seluler]" id="survey_form_nama_operator_seluler">
                  <option disabled selected>Select One</option>
                  <option>Telkomsel</option>
                  <option>XL</option>
                  <option>Indosat</option>
                  <option>Axis</option>
                  <option>Smartfren</option>
                  <option>Bolt</option>
                  <option>3 Tri</option>
                </select>
              </div>
              <div class="form-group">
                <%= f.label :kualitas_layanan %><br>
                <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[kualitas_layanan]" id="survey_form_kualitas_layanan">
                  <option disabled selected>Select One</option>
                  <option>Sangat Lambat</option>
                  <option>Lambat</option>
                  <option>Cepat</option>
                  <option>Sangat Cepat</option>
                </select>
              </div>
            </div>
          </div>

           <hr >
          <center><h2>Ketersediaan Perangkat</h2></center>
          <hr>

          <div class="form-group">
            <%= f.label :jumlah_komputer, "Jumlah Komputer/PC" %><br>
            <%= f.text_field :jumlah_komputer, class: "form-control", type:"number" %>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-xs-6">
                <%= f.label :perangkat_pendukung_lainnya, "Perangkat Pendukung" %><br>
                <select class="selectpicker form-control" data-show-subtext="true" data-live-search="true" name="survey_form[perangkat_pendukung_lainnya]" id="survey_form_perangkat_pendukung_lainnya">
                  <option disabled selected>Select One</option>
                  <option>UPS</option>
                  <option>Modem</option>
                  <option>Stabilizer</option>
                  <option>Webcam</option>
                </select>
              </div>

              <div class="col-lg-6 col-md-6 col-xs-6">
                <%= f.label :perangkat_lainnya, "Lainnya" %><br>
                <%= f.text_field :perangkat_lainnya, class: "form-control" %>
              </div>
            </div>
          </div>

          <hr >
          <center><h2>Penanggung Jawab Lokasi</h2></center>
          <hr>

          <div class="form-group">
            <%= f.label :nama_penanggung_jawab_lokasi_1 %><br>
            <%= f.text_field :nama_penanggung_jawab_lokasi_1, class: "form-control" %>
          </div>
          <div class="form-group">
            <%= f.label :kontak_penanggung_jawab_lokasi_1 %><br>
            <%= f.text_field :kontak_penanggung_jawab_lokasi_1, class: "form-control", type: 'number' %>
          </div>
          <div class="form-group">
            <%= f.label :nama_penanggung_jawab_lokasi_2 %><br>
            <%= f.text_field :nama_penanggung_jawab_lokasi_2, class: "form-control" %>
          </div>
          <div class="form-group">
            <%= f.label :kontak_penanggung_jawab_lokasi_2 %><br>
            <%= f.text_field :kontak_penanggung_jawab_lokasi_2, class: "form-control", type: 'number' %>
          </div>

          <hr >
          <center><h2>Transportasi Menuju Lokasi</h2></center>
          <hr>

          <div class="form-group">
            <div class="row">
              <div class="col-lg-6 col-md-6 col-xs-6">
                <%= label_tag :transportasi_menuju_lokasi, 'Transportasi Menuju Lokasi' %> <br />

                <%= label_tag 'transportasi_menuju_lokasi_Darat', 'Darat ' %>&nbsp;&nbsp;
                <%= check_box_tag 'survey_form[transportasi_menuju_lokasi][]', 'Darat', checked1('Darat'), id: 'transportasi_menuju_lokasi_Darat' %><br />

                <%= label_tag 'transportasi_menuju_lokasi_Laut', 'Laut' %>&nbsp;&nbsp;&nbsp;&nbsp;
                <%= check_box_tag 'survey_form[transportasi_menuju_lokasi][]', 'Laut', checked1('Laut'), id: 'transportasi_menuju_lokasi_Laut' %><br />

                <%= label_tag 'transportasi_menuju_lokasi_Udara', 'Udara ' %>&nbsp;
                <%= check_box_tag 'survey_form[transportasi_menuju_lokasi][]', 'Udara', checked1('Udara'), id: 'transportasi_menuju_lokasi_udara' %>
              </div>
              <div class="col-lg-6 col-md-6 col-xs-6">
                <div class="form-group">
                  <%= f.label :keterangan_menuju_lokasi %><br>
                  <%= f.text_area :keterangan_menuju_lokasi, class: "form-control",rows: 4 %>
                </div>
              </div>
            </div>
          </div>  
          </div>
          <div class="form-group">
            <%= f.label :gambaran_menuju_lokasi %><br>
            <%= f.text_area :gambaran_menuju_lokasi, class: "form-control", rows: 5 %>
          </div>
                <a class="btn btn-primary btnNext" >Selanjutnya</a>
          </div>

          <div class="tab-pane" id="tab2">
          <center><h2>Dokumentasi</h2></center>
          <hr>

            <div class="form-group">
              <%= f.label :"photo_sketsa", "Photo: Sketsa/Layout" %>
              <%= f.file_field :photo_sketsa, class: "form-control",:required => true %>
              
            </div>

            <div class="form-group">
              <%= f.label :"image_gedung", "Photo: Site/Gedung" %>
              <%= f.file_field :image_gedung, class: "form-control",:required => true %>
              
            </div>

             <div class="form-group">
              <%= f.label :"image_rencana_tempat_perangkat", "Photo: Rencana Tempat Perangkat" %>
              <%= f.file_field :image_rencana_tempat_perangkat, class: "form-control",:required => true %>
              
            </div>

             <div class="form-group">
              <%= f.label :"image_genset", "Photo: KWh Mwte/Genset/Solar Cell" %>
              <%= f.file_field :image_genset, class: "form-control",:required => true %>
              
            </div>

            <hr >
            <center><h2>Foto Panoramic</h2></center>
            <hr>

            <div class="form-group">
              <%= f.label :"image_lingkungan_depan", "Photo Lingkungan Depan" %>
              <%= f.file_field :image_lingkungan_depan, class: "form-control",:required => true %>
              
            </div>

            <div class="form-group">
              <%= f.label :"image_lingkungan_belakang", "Photo Lingkungan Belakang" %>
              <%= f.file_field :image_lingkungan_belakang, class: "form-control",:required => true %>
              
            </div>

            <div class="form-group">
              <%= f.label :"image_lingkungan_kiri", "Photo Lingkungan Sebelah Kiri" %>
              <%= f.file_field :image_lingkungan_kiri, class: "form-control",:required => true %>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :"image_lingkungan_kanan", "Photo Lingkungan Sebelah Kanan" %>
              <%= f.file_field :image_lingkungan_kanan, class: "form-control",:required => true %>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :"image_akses_ke_site", "Photo Akses ke Site" %>
              <%= f.file_field :image_akses_ke_site, class: "form-control",:required => true %>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :"image_akses_ke_site_1", "Photo Akses ke Site" %>
              <%= f.file_field :image_akses_ke_site_1, class: "form-control",:required => true%>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :"image_geotagging", "Perangkat Geotagging" %>
              <%= f.file_field :image_geotagging, class: "form-control",:required => true %>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :"image_surveyor", "Photo Surveyor di Lokasi" %>
              <%= f.file_field :image_surveyor, class: "form-control",:required => true %>
              <div id="target"></div>
            </div>

            <hr >
            <center><h2>Photo Tambahan</h2></center>
            <hr>

            <div class="form-group">
              <%= f.label :"tambahan_image_1", "Tambahan Photo 1" %>
              <%= f.file_field :image_tambahan_photo_1, class: "form-control" %>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :"tambahan_image_2", "Tambahan Photo 2" %>
              <%= f.file_field :image_tambahan_photo_2, class: "form-control" %>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :"tambahan_image_3", "Tambahan Photo 2" %>
              <%= f.file_field :image_tambahan_photo_3, class: "form-control" %>
              <div id="target"></div>
            </div>

            <div class="form-group">
              <%= f.label :catatan_tambahan %>
              <%= f.text_area :catatan_tambahan, class: "form-control", rows: 5,:required => true %>
            </div>
            
            <center>
              <div class="row">
                <div class="col-xs-6 center">
                  <a class="btn btn-danger btnPrevious" >Kembali</a>
                </div>
                <div class="col-xs-6">
                  <div class="actions">
                    <%= f.submit "Submit", class: "btn btn-success" %>
                  </div>
                </div>
              </div>
            </center>   
    </div>           
<% end %>
    
  </div>
</div>
</div>
</div>

<script type="text/javascript">
$('select').select2({width: "100%"});
</script>

<script type="text/javascript">
   $('.btnNext').click(function(){
  $('.nav-tabs > .active').next('li').find('a').trigger('click');
});

  $('.btnPrevious').click(function(){
  $('.nav-tabs > .active').prev('li').find('a').trigger('click');
});
</script>

<!-- JAVASCRIPT KETERSEDIAAN LISTRIK -->
<script>
$(document).ready(function(){
$("#form-input").css("display","none"); //Menghilangkan form-input ketika pertama kali dijalankan
$(".detail").click(function(){ //Memberikan even ketika class detail di klik (class detail ialah class radio button)
if ($("input[name='optradio']:checked").val() == "ada" ) { //Jika radio button "berbeda" dipilih maka tampilkan form-inputan
$("#form-input").slideDown("fast"); //Efek Slide Down (Menampilkan Form Input)
} else {
$("#form-input").slideUp("fast"); //Efek Slide Up (Menghilangkan Form Input)
}
});
});
</script>

<!-- JAVASCRIPT KETERSEDIAAN AKSES INTERNET -->
<script>
$(document).ready(function(){
$("#form-internet").css("display","none"); //Menghilangkan form-input ketika pertama kali dijalankan
$(".detailinternet").click(function(){ //Memberikan even ketika class detail di klik (class detail ialah class radio button)
if ($("input[name='internet']:checked").val() == "ada" ) { //Jika radio button "berbeda" dipilih maka tampilkan form-inputan
$("#form-internet").slideDown("fast"); //Efek Slide Down (Menampilkan Form Input)
} else {
$("#form-internet").slideUp("fast"); //Efek Slide Up (Menghilangkan Form Input)
}
});
});
</script>

<!-- JAVASCRIPT KETERSEDIAAN JARINGAN SELULAR -->
<script>
$(document).ready(function(){
$("#form-jaringan").css("display","none"); //Menghilangkan form-input ketika pertama kali dijalankan
$(".detailjaringan").click(function(){ //Memberikan even ketika class detail di klik (class detail ialah class radio button)
if ($("input[name='jaringan']:checked").val() == "ada" ) { //Jika radio button "berbeda" dipilih maka tampilkan form-inputan
$("#form-jaringan").slideDown("fast"); //Efek Slide Down (Menampilkan Form Input)
} else {
$("#form-jaringan").slideUp("fast"); //Efek Slide Up (Menghilangkan Form Input)
}
});
});
</script>